/*
Django CMS Blog App Components

These styles are only for the blog app pages (list pages, article pages).

Reference:

- [Django CMS Blog App Templates](https://github.com/nephila/djangocms-blog/tree/1.2.3/djangocms_blog/templates/djangocms_blog)

Styleguide Components.DjangoCMS.Blog.App
*/
@import url("@tacc/core-styles/dist/djangocms-blog/cms-pagination.css");
@import url("@tacc/core-styles/src/lib/_imports/components/c-tag.css");

@import url("./django.cms.blog.app.page.css");
@import url("./django.cms.blog.app.item.css");
@import url("./django.cms.blog.selectors.css");



/* Generic */

.app-blog {
  @mixin news;
}
@define-mixin news {
  /* To control absolute position of descendants e.g. `.blog-visual` */
  position: relative;
}



/* Header */

.app-blog header {
  @mixin news-article__header;
}
@define-mixin news-article__header {
  display: grid;
  column-gap: 1em;
}
:--article-page h1,
:--article-item h3    { grid-area: head }
:--article-page h2,
:--article-item h4    { grid-area: subh }
.app-blog .attrs      { grid-area: attr }
.app-blog .dates      { grid-area: date }
.app-blog .categories { grid-area: cats }
.app-blog .tags       { grid-area: tags }
.app-blog .links      { grid-area: link }

/* To format titles */
:--article-list h1 > strong::after {
  @mixin news-title__name;
}
@define-mixin news-title__name {
  content: "â€”";
  margin-left: 0.25em;
  display: inline-block;
  font-weight: var(--medium);
}
:--article-list h1 > span {
  @mixin news-title__type-key;
}
@define-mixin news-title__type-key {
  display: none;
}
:--article-list h1 > em {
  @mixin news-title__type-value;
}
@define-mixin news-title__type-value {
  font-style: normal;
  text-transform: none;
  font-family: inherit;
  font-weight: var(--medium);
}

.app-blog ul.post-detail {
  @mixin news-details;
}
@define-mixin news-details {
  list-style: none;

  padding-left: 0; /* overwrite html-elements.css */

  font-size: var(--global-font-size--medium);
}



/* Metadata */

.app-blog .tags,
.app-blog .categories {
  @mixin news-metadata;
}
@define-mixin news-metadata {
  display: flex;
  flex-direction: row;
  gap: 1em;

  &:empty {
    display: none;
  }
}

.app-blog .byline > span {
  @mixin news-byline__prefix;
}
/* To always hide byline prefix */
@define-mixin news-byline__prefix {
  display: none;
}

/* To conditionally hide tags & categories */
.app-blog.no-tags :--article .tags,
.app-blog.no-categories :--article .categories {
  display: none;
}

.app-blog .categories {
  @mixin news-metadata;
  a { @mixin news-category; }
}
@define-mixin news-category {
  @extend :--c-tag;

  display: inline-block;

  color: var(--global-color-primary--xx-light);
  background-color: var(--global-color-primary--xx-dark);

  font-size: var(--global-font-size--small);
}

.app-blog .tags {
  @mixin news-metadata;
  a { @mixin news-tag; }
}
@define-mixin news-tag {
  background-color: var(--global-color-primary--light);
}

.app-blog time {
  @mixin news-date;
}
@define-mixin news-date {
  color: var(--global-color-accent--secondary);
  font-weight: var(--medium);
  text-transform: uppercase;
}



/* Social Media */

/* TACC: Logos */

.app-blog .logos--social {
  @mixin news-socials;
}
@define-mixin news-socials {
  display: flex;
  flex-wrap: wrap;
  justify-self: end;

  @media (pointer: coarse) {
    gap: 1.0em;
  }
  @media not (pointer: coarse) {
    gap: 0.5em;
  }
}

.app-blog .logos__text-before {
  @mixin news-socials__prefix;
}
@define-mixin news-socials__prefix {
  white-space: nowrap;
}

.app-blog .logos--social svg {
  @mixin news-socials__icon;
}
@define-mixin news-socials__icon {
  @media (pointer: coarse) {
    height: var(--global-font-size--xx-large);
    width: var(--global-font-size--xx-large);
  }
  @media (pointer: fine), (pointer: none) {
    height: var(--global-font-size--large);
    width: var(--global-font-size--large);
  }
}



/* Pagination */

.pagination {
  @mixin news-pagination;
}
@define-mixin news-pagination {
  margin-block: 40px;
}
