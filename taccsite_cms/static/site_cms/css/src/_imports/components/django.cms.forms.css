/*
Django CMS Form Components

These styles are only for forms created by the Django CMS Form plugin.

Reference:

- [Django CMS Form Default Template](https://github.com/avryhof/djangocms-forms/blob/master/djangocms_forms/templates/djangocms_forms/form_template/default.html)
- [TACC's Django CMS Form Default Template](https://github.com/TACC/Core-CMS/blob/master/taccsite_cms/templates/djangocms_forms/form_template/default.html)

Styleguide Components.DjangoCMS.Forms
*/
@import url("@tacc/core-styles/src/lib/_imports/components/c-button.css");
@import url("./django.cms.forms.hacks.css");



/* Title & Description */

.description {
  margin-block: 25px;
}



/* Help Text */

.help-text {
  font-size: var(--global-font-size--small);
  font-style: italic;
}
:not(
  ul, /* FAQ: Lists already have margin-bottom */
  label /* FAQ: Labels already have margin-bottom */
) + .help-text {
    margin-top: 0.3em; /* mimic Bootstrap _reboot.css label margin-bottom *\/
}
/* To prevent help text font-style from affecting any tags */
/* FAQ: Help text can contain inline elements like <samp> */
/* FAQ: Help text can be (ab)used to add headings between form fields */
.help-text > :not(details, a, samp) {
  font-style: initial;
}



/* Labels */

.help-text .field-wrapper:first-child label {
  /* To mimic .field-wrapper `margin-bottom: 2rem` */
  /* IDEA: Change .field-wrapper margin to be on top except for first */
  margin-top: 2rem;
}



/* Fields */

.field-wrapper {
  margin-bottom: 2rem; /* mimic <p> `margin-bottom` */
}

.field-wrapper:not(.checkboxinput) {
  display: flex;
  flex-direction: column;
}
.field-wrapper:not(.checkboxinput) > .field-errors {
  order: 1; /* i.e. move to end */
}

.field-wrapper.checkboxinput {
  display: inline-grid;

  column-gap: 0.5em;
  align-items: center;
  grid-template-columns: min-content auto; /* shrink input, let label extend */
  grid-template-areas:
    'error _____'
    'input label'
    'notes notes';
}
.field-wrapper.checkboxinput .field-errors { grid-area: error; }
.field-wrapper.checkboxinput input         { grid-area: input; }
.field-wrapper.checkboxinput label         { grid-area: label; }
.field-wrapper.checkboxinput .help-text    { grid-area: notes; }
.field-wrapper.checkboxinput label {
  margin-bottom: 0; /* overwrite forms.css label */
}

ul.radioselect label,
ul.checkboxselectmultiple label {
  display: flex;
  gap: 0.5em;
  align-items: center;
}
ul.radioselect li:last-child label,
ul.checkboxselectmultiple li:last-child label {
  margin-bottom: 0; /* overwrite forms.css label */
}

/* Field: Required, Asterisk, Important */

.field-wrapper.required label {
  font-weight: var(--bold);
}
.field-wrapper.required .asterisk {
  font-weight: var(--regular);
}

/* To not render space from markup between label and asterisk */
/* FAQ: The `:has(sup, sub)` prevents a <sup>7</sup> from being too high/low */
.field-wrapper.required:has(label .asterisk) label:has(sub, sup) {
  display: flex;
  align-items: center;
}

.field-wrapper .asterisk {
  margin-left: 0.5em;
}
.field-wrapper.required .asterisk {
  color: var(--global-color-danger--dark);
}
.field-wrapper:not(.required) .asterisk
/* NOTE: Manual markup ONLY; form plugin can't render non-required asterisk */ {
  color: var(--global-color-warning--dark);
}
/* To replace asterisk character with text */
.field-wrapper .asterisk {
  width: 0;
  display: inline-block;
  visibility: hidden;
  line-height: 0;
}
.field-wrapper .asterisk::after {
  visibility: visible;
  line-height: initial;
}
.field-wrapper.required .asterisk::after {
  content: '(required)';
}
.field-wrapper:not(.required) .asterisk::after
/* NOTE: Manual markup ONLY; form plugin can't render non-required asterisk */ {
  content: '(important)';
}



/* Errors */

.field-errors {
  font-size: var(--global-font-size--small);
}
.field-errors ul {
  margin-top: 1rem; /* mimic ul margin-bottom */
  margin-bottom: 0; /* overwrite ul margin-bottom */
}



/* Lists */

ul.radioselect,
ul.checkboxselectmultiple {
  list-style: none;

  padding-left: 0;
}



/* Layout */

.button-wrapper {
  margin-top: 35px;
}



/* Button */

.form-button,
.button-wrapper button[type="submit"] {
  @extend .c-button;
  @extend .c-button--primary;
}
