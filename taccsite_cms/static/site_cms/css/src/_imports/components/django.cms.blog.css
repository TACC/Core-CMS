/*
Django CMS Blog Components

Components for [Django CMS Blog](https://djangocms-blog.readthedocs.io) UI. These classes are authored in templates of third-party origin, but they have no third-party styles.

Reference:

- [Django CMS Blog Templates (`.blog-` Classes)](https://github.com/nephila/djangocms-blog/tree/1.1.1/djangocms_blog/templates/djangocms_blog)

Styleguide Components.DjangoCMS.Blog
*/
@import url("_imports/tools/x-truncate.css");
@import url("_imports/tools/x-article-link.css");





/* Article */

@custom-selector :--article-page article.post-detail;
@custom-selector :--article-item .blog-list article;



/* Article - Header */

ul.post-detail {
  list-style: none;

  padding-left: 0; /* overwrite html-elements.css */
  margin-bottom: 0; /* overwrite Bootstrap `reboot.css` */

  font-size: var(--global-font-size--medium);
}



/* Article - Content */

/* Add space between all list items */
/* FAQ: Use case is list items with as much text as a paragraph */
.blog-content li + li {
  margin-top: 0.5em;
}





/* Article Page */



/* Article Page - Header */

:--article-page header {
  width: 620px;
}

:--article-page .attr {
  display: flex;
  justify-content: space-between;
}

:--article-page h2 {
  font-size: var(--global-font-size--xxx-large);
}
:--article-page h3 {
  font-style: italic;
  font-weight: normal;
  font-size: var(--global-font-size--large);
}

:--article-page :is(h3, h2 + .attr) {
  padding-top: 17px;
  border-top: var(--global-border-width--normal) solid var(--global-color-primary--dark);
}

:--article-page .date-published span {
  display: none;
}



/* Article Page - Media & Content */

:--article-page :is(.blog-visual, .blog-content) {
  margin-block: 45px;
}



/* Article Page - Content */

:--article-page .blog-content {
  max-width: 665px;

  font-size: var(--global-font-size--large);
  line-height: 1.65;
}





/* Article Item */

:--article-item {
  --buffer: 20px;

  display: grid;
  grid-template-areas:
    'media head'
    'media desc';
}
:--article-item header        { grid-area: head }
:--article-item .blog-visual  { grid-area: media }
:--article-item .blog-lead    { grid-area: desc }
:--article-item footer        { grid-area: 1 / 1 / -1 / -1 }

:--article-item + article {
  margin-top: var(--buffer);
  border-top: var(--global-border-width--normal) solid var(--global-color-primary--dark);
  padding-top: var(--buffer);
}



/* Article Item - Header */

/* Article Item - Header - Container */

:--article-item header {
  display: grid;
  position: relative; /* for `position: absolute` children */

  min-width: 0; /* to support truncation */

  grid-template-areas:
    'cats cats'
    'attr attr'
    'head subh';
  /* To truncate 'subh' fully before truncating 'head' */
  grid-template-columns: minmax(0, max-content) 1fr;
}
:--article-item h3          { grid-area: head }
:--article-item h4          { grid-area: subh }
:--article-item .attr       { grid-area: attr }
:--article-item .categories { grid-area: cats }
:--article-item .tags {
  /* To span top row and align right */
  grid-row: 1 / 2;
  grid-column: 1 / 3;
  justify-content: end;
}

/* Article Item - Header - Content */

/* Article Item - Header - Content (Structure) */
:--article-item .attr,
:--article-item .tags {
  display: flex;
  flex-wrap: nowrap;
  flex-direction: row;
  gap: 2em;
}
:--article-item .tags { align-items: center }

/* To truncate all metadata */
:--article-item :is(.byline, .date) {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;

  /* To allow truncation */
  min-width: 0;

  /* To limit text to one line */
  height: 1.4em; /* ~ line-height */
  overflow: hidden;
}
:--article-item .date span,
:--article-item .byline a,
:--article-item .tags li,
:--article-item .categories li { @extend %x-truncate--one-line }

:--article-item .date { order: -1; }

/* Article Item - Header - Content (Skin) */
:--article-item :is(.attr, .tags) {
  font-size: var(--global-font-size--x-small);
  color: var(--global-color-primary--dark);
}
:--article-item :is(.attr, .tags) a { color: inherit }

:--article-item h3,
:--article-item h4 {
  @extend %x-truncate--one-line;

  margin-block: 2px; /* overwrite html-elements.css */
  font-size: var(--global-font-size--large);
}
:--article-item h4 {
  text-transform: none; /* overwrite html-elements.css */

  /* To style subtitle differently than title */
  /* CAVEAT: Font-weight change switches to font that has different alignment */
  transform: translateY(2px); /* HACK: tweak vertical alignment */
  font-weight: var(--regular);
}
:--article-item h4::before { content: ': ' }
:--article-item h3 a {
  color: var(--global-color-primary--xx-dark);
}

:--article-item .categories {
  font-weight: var(--bold);
  font-size: var(--global-font-size--x-small);
  text-transform: uppercase;
}
:--article-item .categories /* to color `::before` */,
:--article-item .categories a {
  color: var(--global-color-primary--xx-dark);
}
:--article-item .categories:empty:before {
  content: 'Uncategorized';
}



/* Article Item - Visual */

/* NOTE: Space added to content not container cuz container is always present */
/* HELP: How to add space to omni-present container only if image exists
         and not need to duplicate, maintain, and edit `blog_item.html`? */
:--article-item .blog-visual * {
  margin-right: 50px;
}



/* Article Item - Content */

.blog-lead {
  @extend %x-truncate--many-lines;
  --lines: 3;

  line-height: 1.5;
  color: var(--global-color-primary--dark);
}



/* Article Item - Footer */

:--article-item footer {
  position: relative;
}
:--article-item footer a {
  @extend %x-article-link-stretch;
  @extend %x-article-link-text;
}
:--article-item footer a:hover {
  --outline-offset: var(--buffer);

  @extend %x-article-link-hover;
}
:--article-item footer a:active {
  @extend %x-article-link-active;
}
